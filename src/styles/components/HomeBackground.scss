@use '../variables' as *;
@use '../breakpoints' as *;

/* Background FX — ultra-lightweight & static */
.homefx {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;

  /* Fond très subtil qui ne concurrence pas le contenu */
  background:
    radial-gradient(
      900px 650px at 20% 10%,
      color-mix(in srgb, var(--primary) 12%, transparent) 0%,
      transparent 60%
    ),
    radial-gradient(
      1000px 700px at 80% 0%,
      color-mix(in srgb, var(--primary) 8%, transparent) 0%,
      transparent 65%
    );
}

/* Calque pour les blobs */
.homefx__layer {
  position: absolute;
  inset: 0;
}

/* BLOBS — même couleur, taille réduite, pas d’animations */
$blob-size: 220px; /* taille desktop par défaut */
$blob-blur: 36px;

.blob {
  position: absolute;
  width: $blob-size;
  height: $blob-size;
  border-radius: 50%;
  background: radial-gradient(circle at 45% 55%, var(--secondary) 0%, transparent 70%);
  filter: blur($blob-blur);
  opacity: 0.28;
  transform: translate3d(0, 0, 0); /* propre calque GPU */
}

/* Positions fixes (aucun mouvement) */
.blob--a {
  top: 10%;
  left: 12%;
}
.blob--b {
  top: 55%;
  left: 72%;
}
.blob--c {
  top: 78%;
  left: 28%;
}

/* Responsive avec tes mixins */
@include respond-until($breakpoint-md) {
  .blob {
    width: 200px;
    height: 200px;
    filter: blur(32px);
    opacity: 0.25;
  }
}
@include respond-until($breakpoint-sm) {
  .blob {
    width: 160px;
    height: 160px;
    filter: blur(28px);
    opacity: 0.22;
  }
}

/* Accessibilité : pas d’animation par design */
@media (prefers-reduced-motion: reduce) {
  .blob {
    /* rien à désactiver */
  }
}
